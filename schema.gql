enum Action {
  JOIN
  LEAVE
}

scalar Date

type Mutation {
  createRoom(name: String!, offer: OfferInput!): Room!
  leaveRoom(name: String!, uuid: String!): Room

  """Mutation to trigger subscription serverStatus !"""
  testSubscription: Boolean! @deprecated(reason: "Use only for testing")
}

type Offer {
  sdp: String
  type: RTCSdpType!
}

input OfferInput {
  sdp: String
  type: RTCSdpType!
}

type ParticiantAction {
  action: Action!
  participant: Participant!
}

type Participant {
  name: String!
  uuid: String!
}

type Query {
  isAlive: Boolean!
  joinRoom(name: String!, uuid: String!): Room
  ping: String!
  room(uuid: String!): Room
}

enum RTCSdpType {
  answer
  offer
  pranswer
  rollback
}

type Room {
  participants: [Participant!]!
  uuid: String!
}

type Subscription {
  """
  Subscription to server status, trigger using mutation `testSubscription` 
  """
  serverStatus: Float! @deprecated(reason: "Use only for testing")
  subscribeToParticipants(
    """Room uuid"""
    uuid: String!
  ): ParticiantAction!
}